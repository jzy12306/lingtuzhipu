<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>系统管理 - 智能体监控与配置</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            min-height: 100vh;
        }
        .dashboard-card {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .metric-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        .metric-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
        .status-online { background-color: #10b981; }
        .status-processing { background-color: #f59e0b; animation: pulse 2s infinite; }
        .status-offline { background-color: #ef4444; }
        .status-idle { background-color: #6b7280; }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .log-entry {
            border-left: 3px solid;
            padding-left: 12px;
            margin-bottom: 8px;
        }
        .log-info { border-color: #3b82f6; }
        .log-warning { border-color: #f59e0b; }
        .log-error { border-color: #ef4444; }
        .log-success { border-color: #10b981; }
    </style>
</head>
<body class="text-white overflow-x-hidden">
    <!-- 导航栏 -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-slate-900/80 backdrop-blur-md border-b border-slate-700/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-lg flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <span class="text-xl font-bold">灵图智谱</span>
                </div>
                <div class="flex items-center space-x-6">
                    <a href="index.html" class="text-slate-300 hover:text-white transition-colors">首页</a>
                    <a href="query.html" class="text-slate-300 hover:text-white transition-colors">知识查询</a>
                    <a href="graph.html" class="text-slate-300 hover:text-white transition-colors">图谱可视</a>
                    <a href="admin.html" class="text-cyan-400 hover:text-cyan-300 transition-colors font-medium">系统管理</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主要内容区域 -->
    <main class="pt-20 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- 页面标题 -->
            <div class="mb-8">
                <h1 class="text-4xl font-bold mb-4 bg-gradient-to-r from-cyan-400 to-blue-600 bg-clip-text text-transparent">
                    系统管理控制台
                </h1>
                <p class="text-xl text-slate-400">
                    智能体性能监控、系统配置管理和运行状态实时查看
                </p>
            </div>

            <!-- 系统概览仪表板 -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="metric-card rounded-xl p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-slate-400 text-sm">系统状态</p>
                            <p class="text-2xl font-bold text-green-400">正常运行</p>
                        </div>
                        <div class="w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="metric-card rounded-xl p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-slate-400 text-sm">活跃智能体</p>
                            <p class="text-2xl font-bold text-cyan-400">4/4</p>
                        </div>
                        <div class="w-12 h-12 bg-cyan-500/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-cyan-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="metric-card rounded-xl p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-slate-400 text-sm">平均响应时间</p>
                            <p class="text-2xl font-bold text-yellow-400">1.2s</p>
                        </div>
                        <div class="w-12 h-12 bg-yellow-500/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="metric-card rounded-xl p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-slate-400 text-sm">今日处理量</p>
                            <p class="text-2xl font-bold text-purple-400">1,247</p>
                        </div>
                        <div class="w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-purple-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- 智能体监控 -->
                <div class="lg:col-span-2">
                    <div class="dashboard-card rounded-xl p-6 mb-8">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-2xl font-bold">智能体监控</h2>
                            <div class="flex items-center space-x-2">
                                <span class="status-indicator status-online"></span>
                                <span class="text-sm text-slate-400">实时更新</span>
                            </div>
                        </div>

                        <!-- 智能体状态网格 -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                            <!-- 构建者智能体 -->
                            <div class="bg-slate-700/30 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex items-center space-x-3">
                                        <img src="resources/agent-icons/builder.png" alt="构建者智能体" class="w-8 h-8">
                                        <div>
                                            <h3 class="font-semibold">构建者智能体</h3>
                                            <p class="text-sm text-slate-400">文档处理</p>
                                        </div>
                                    </div>
                                    <span class="status-indicator status-processing"></span>
                                </div>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">状态:</span>
                                        <span class="text-yellow-400">处理中</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">队列:</span>
                                        <span>15/20 文档</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">效率:</span>
                                        <span class="text-green-400">94%</span>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <div class="w-full bg-slate-600 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-blue-500 to-cyan-500 h-2 rounded-full transition-all duration-300" style="width: 75%"></div>
                                    </div>
                                    <div class="text-xs text-slate-400 mt-1">处理进度: 75%</div>
                                </div>
                            </div>

                            <!-- 审计智能体 -->
                            <div class="bg-slate-700/30 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex items-center space-x-3">
                                        <img src="resources/agent-icons/auditor.png" alt="审计智能体" class="w-8 h-8">
                                        <div>
                                            <h3 class="font-semibold">审计智能体</h3>
                                            <p class="text-sm text-slate-400">质量检查</p>
                                        </div>
                                    </div>
                                    <span class="status-indicator status-online"></span>
                                </div>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">状态:</span>
                                        <span class="text-green-400">运行中</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">质量评分:</span>
                                        <span class="text-green-400">96.2%</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">检查项:</span>
                                        <span>1,247 项</span>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <div class="w-full bg-slate-600 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full transition-all duration-300" style="width: 90%"></div>
                                    </div>
                                    <div class="text-xs text-slate-400 mt-1">检查进度: 90%</div>
                                </div>
                            </div>

                            <!-- 分析师智能体 -->
                            <div class="bg-slate-700/30 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex items-center space-x-3">
                                        <img src="resources/agent-icons/analyst.png" alt="分析师智能体" class="w-8 h-8">
                                        <div>
                                            <h3 class="font-semibold">分析师智能体</h3>
                                            <p class="text-sm text-slate-400">查询处理</p>
                                        </div>
                                    </div>
                                    <span class="status-indicator status-idle"></span>
                                </div>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">状态:</span>
                                        <span class="text-slate-400">空闲</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">响应时间:</span>
                                        <span class="text-cyan-400">1.2s</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">准确率:</span>
                                        <span class="text-green-400">91.5%</span>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <div class="w-full bg-slate-600 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all duration-300" style="width: 25%"></div>
                                    </div>
                                    <div class="text-xs text-slate-400 mt-1">负载: 25%</div>
                                </div>
                            </div>

                            <!-- 扩展智能体 -->
                            <div class="bg-slate-700/30 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex items-center space-x-3">
                                        <img src="resources/agent-icons/extension.png" alt="扩展智能体" class="w-8 h-8">
                                        <div>
                                            <h3 class="font-semibold">扩展智能体</h3>
                                            <p class="text-sm text-slate-400">插件管理</p>
                                        </div>
                                    </div>
                                    <span class="status-indicator status-processing"></span>
                                </div>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">状态:</span>
                                        <span class="text-yellow-400">加载中</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">已加载:</span>
                                        <span>12/20 插件</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-slate-400">API调用:</span>
                                        <span class="text-cyan-400">847 次</span>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <div class="w-full bg-slate-600 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-orange-500 to-red-500 h-2 rounded-full transition-all duration-300" style="width: 60%"></div>
                                    </div>
                                    <div class="text-xs text-slate-400 mt-1">加载进度: 60%</div>
                                </div>
                            </div>
                        </div>

                        <!-- 性能图表 -->
                        <div>
                            <h3 class="text-lg font-semibold mb-4">性能监控</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="text-sm font-medium mb-3 text-slate-400">响应时间趋势</h4>
                                    <div id="response-time-chart" style="height: 200px;"></div>
                                </div>
                                <div>
                                    <h4 class="text-sm font-medium mb-3 text-slate-400">处理量统计</h4>
                                    <div id="throughput-chart" style="height: 200px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 侧边栏 -->
                <div class="lg:col-span-1 space-y-6">
                    <!-- 系统配置 -->
                    <div class="dashboard-card rounded-xl p-6">
                        <h3 class="text-lg font-semibold mb-4">系统配置</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">最大并发数</label>
                                <input type="number" value="100" class="w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg focus:outline-none focus:border-cyan-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">超时时间 (秒)</label>
                                <input type="number" value="30" class="w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg focus:outline-none focus:border-cyan-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">缓存大小 (MB)</label>
                                <input type="number" value="512" class="w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg focus:outline-none focus:border-cyan-500">
                            </div>
                            <button onclick="saveConfig()" class="w-full px-4 py-2 bg-cyan-600 hover:bg-cyan-700 rounded-lg transition-colors">
                                保存配置
                            </button>
                        </div>
                    </div>

                    <!-- 系统日志 -->
                    <div class="dashboard-card rounded-xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold">系统日志</h3>
                            <button onclick="refreshLogs()" class="text-cyan-400 hover:text-cyan-300 transition-colors">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </div>
                        <div id="system-logs" class="space-y-2 max-h-64 overflow-y-auto">
                            <!-- 日志内容将在这里动态生成 -->
                        </div>
                    </div>

                    <!-- 用户管理 -->
                    <div class="dashboard-card rounded-xl p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-semibold">用户管理</h3>
                            <button onclick="addUser()" class="text-cyan-400 hover:text-cyan-300 transition-colors">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </div>
                        <div class="space-y-3" id="user-list">
                            <!-- 用户列表将在这里动态生成 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="py-12 border-t border-slate-700/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-slate-400">© 2024 灵图智谱. 基于多智能体协作的先进知识工程平台.</p>
        </div>
    </footer>

    <script>
        // 模拟用户数据
        const users = [
            { id: 1, name: '管理员', email: 'admin@example.com', role: 'admin', avatar: 'resources/avatars/user1.jpg', status: 'online' },
            { id: 2, name: '张分析师', email: 'analyst@example.com', role: 'analyst', avatar: 'resources/avatars/user2.jpg', status: 'online' },
            { id: 3, name: '李工程师', email: 'engineer@example.com', role: 'engineer', avatar: 'resources/avatars/user3.png', status: 'offline' },
            { id: 4, name: '王研究员', email: 'researcher@example.com', role: 'researcher', avatar: 'resources/avatars/user4.jpeg', status: 'online' },
            { id: 5, name: '陈数据师', email: 'data@example.com', role: 'data_scientist', avatar: 'resources/avatars/user5.jpg', status: 'away' }
        ];

        // 模拟系统日志
        const systemLogs = [
            { timestamp: '2024-01-15 14:32:15', level: 'info', message: '构建者智能体开始处理文档批次 #1247' },
            { timestamp: '2024-01-15 14:31:45', level: 'success', message: '审计智能体完成质量检查，评分: 96.2%' },
            { timestamp: '2024-01-15 14:31:30', level: 'warning', message: '扩展智能体插件加载缓慢，预计延迟2分钟' },
            { timestamp: '2024-01-15 14:30:55', level: 'info', message: '分析师智能体处理查询: "苹果公司创新策略分析"' },
            { timestamp: '2024-01-15 14:30:20', level: 'error', message: '数据库连接超时，正在重试连接...' },
            { timestamp: '2024-01-15 14:29:45', level: 'info', message: '系统启动完成，所有智能体准备就绪' },
            { timestamp: '2024-01-15 14:29:30', level: 'success', message: '知识图谱更新完成，新增156个节点' },
            { timestamp: '2024-01-15 14:29:15', level: 'warning', message: '内存使用率超过80%，建议优化配置' }
        ];

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            initCharts();
            initUserList();
            initSystemLogs();
            initAnimations();
            startRealTimeUpdates();
        });

        // 初始化图表
        function initCharts() {
            // 响应时间趋势图
            const responseTimeChart = echarts.init(document.getElementById('response-time-chart'));
            const responseTimeOption = {
                backgroundColor: 'transparent',
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00'],
                    axisLine: { lineStyle: { color: '#64748b' } },
                    axisLabel: { color: '#94a3b8', fontSize: 10 }
                },
                yAxis: {
                    type: 'value',
                    axisLine: { lineStyle: { color: '#64748b' } },
                    axisLabel: { color: '#94a3b8', fontSize: 10 },
                    splitLine: { lineStyle: { color: '#334155' } }
                },
                series: [{
                    data: [1.2, 0.8, 1.5, 2.1, 1.8, 1.2],
                    type: 'line',
                    smooth: true,
                    lineStyle: { color: '#06b6d4', width: 2 },
                    itemStyle: { color: '#06b6d4' },
                    areaStyle: {
                        color: {
                            type: 'linear',
                            x: 0, y: 0, x2: 0, y2: 1,
                            colorStops: [
                                { offset: 0, color: 'rgba(6, 182, 212, 0.3)' },
                                { offset: 1, color: 'rgba(6, 182, 212, 0.05)' }
                            ]
                        }
                    }
                }]
            };
            responseTimeChart.setOption(responseTimeOption);

            // 处理量统计图
            const throughputChart = echarts.init(document.getElementById('throughput-chart'));
            const throughputOption = {
                backgroundColor: 'transparent',
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    data: ['构建者', '审计者', '分析师', '扩展者'],
                    axisLine: { lineStyle: { color: '#64748b' } },
                    axisLabel: { color: '#94a3b8', fontSize: 10 }
                },
                yAxis: {
                    type: 'value',
                    axisLine: { lineStyle: { color: '#64748b' } },
                    axisLabel: { color: '#94a3b8', fontSize: 10 },
                    splitLine: { lineStyle: { color: '#334155' } }
                },
                series: [{
                    data: [156, 203, 89, 134],
                    type: 'bar',
                    itemStyle: {
                        color: {
                            type: 'linear',
                            x: 0, y: 0, x2: 0, y2: 1,
                            colorStops: [
                                { offset: 0, color: '#8b5cf6' },
                                { offset: 1, color: '#06b6d4' }
                            ]
                        }
                    },
                    barWidth: '60%'
                }]
            };
            throughputChart.setOption(throughputOption);

            // 响应窗口大小变化
            window.addEventListener('resize', () => {
                responseTimeChart.resize();
                throughputChart.resize();
            });
        }

        // 初始化用户列表
        function initUserList() {
            const userList = document.getElementById('user-list');
            users.forEach(user => {
                const userDiv = document.createElement('div');
                userDiv.className = 'flex items-center space-x-3 p-2 bg-slate-700/30 rounded-lg';
                
                const statusColor = {
                    'online': 'bg-green-500',
                    'offline': 'bg-red-500',
                    'away': 'bg-yellow-500'
                }[user.status];

                userDiv.innerHTML = `
                    <div class="relative">
                        <img src="${user.avatar}" alt="${user.name}" class="w-8 h-8 rounded-full object-cover">
                        <div class="absolute -bottom-1 -right-1 w-3 h-3 ${statusColor} rounded-full border-2 border-slate-800"></div>
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="font-medium text-sm truncate">${user.name}</p>
                        <p class="text-xs text-slate-400 truncate">${user.email}</p>
                    </div>
                    <div class="flex items-center space-x-1">
                        <button onclick="editUser(${user.id})" class="text-slate-400 hover:text-cyan-400 transition-colors">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>
                            </svg>
                        </button>
                        <button onclick="deleteUser(${user.id})" class="text-slate-400 hover:text-red-400 transition-colors">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                            </svg>
                        </button>
                    </div>
                `;
                
                userList.appendChild(userDiv);
            });
        }

        // 初始化系统日志
        function initSystemLogs() {
            const logsContainer = document.getElementById('system-logs');
            
            systemLogs.forEach(log => {
                const logDiv = document.createElement('div');
                logDiv.className = `log-entry log-${log.level}`;
                
                const levelColor = {
                    'info': 'text-blue-400',
                    'warning': 'text-yellow-400',
                    'error': 'text-red-400',
                    'success': 'text-green-400'
                }[log.level];

                logDiv.innerHTML = `
                    <div class="flex items-start space-x-2">
                        <div class="w-2 h-2 rounded-full mt-2 ${levelColor.replace('text-', 'bg-')}"></div>
                        <div class="flex-1 min-w-0">
                            <p class="text-xs ${levelColor} mb-1">${log.timestamp}</p>
                            <p class="text-sm text-slate-300">${log.message}</p>
                        </div>
                    </div>
                `;
                
                logsContainer.appendChild(logDiv);
            });
        }

        // 保存配置
        function saveConfig() {
            // 模拟保存配置
            const notification = document.createElement('div');
            notification.className = 'fixed top-20 right-6 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50';
            notification.textContent = '配置保存成功！';
            document.body.appendChild(notification);

            // 添加动画
            anime({
                targets: notification,
                translateX: [300, 0],
                opacity: [0, 1],
                duration: 300,
                easing: 'easeOutQuart'
            });

            // 3秒后移除通知
            setTimeout(() => {
                anime({
                    targets: notification,
                    translateX: [0, 300],
                    opacity: [1, 0],
                    duration: 300,
                    easing: 'easeInQuart',
                    complete: () => {
                        document.body.removeChild(notification);
                    }
                });
            }, 3000);
        }

        // 刷新日志
        function refreshLogs() {
            const logsContainer = document.getElementById('system-logs');
            logsContainer.innerHTML = '';
            
            // 添加新日志条目
            const newLog = {
                timestamp: new Date().toLocaleString(),
                level: 'info',
                message: '系统日志刷新完成'
            };
            
            systemLogs.unshift(newLog);
            if (systemLogs.length > 10) {
                systemLogs.pop();
            }
            
            initSystemLogs();
        }

        // 添加用户
        function addUser() {
            alert('添加用户功能开发中...');
        }

        // 编辑用户
        function editUser(userId) {
            const user = users.find(u => u.id === userId);
            if (user) {
                alert(`编辑用户: ${user.name} (功能开发中)`);
            }
        }

        // 删除用户
        function deleteUser(userId) {
            if (confirm('确定要删除这个用户吗？')) {
                const userIndex = users.findIndex(u => u.id === userId);
                if (userIndex > -1) {
                    users.splice(userIndex, 1);
                    document.getElementById('user-list').innerHTML = '';
                    initUserList();
                }
            }
        }

        // 开始实时更新
        function startRealTimeUpdates() {
            // 每5秒更新一次智能体状态
            setInterval(updateAgentStatuses, 5000);
            
            // 每30秒添加新日志
            setInterval(addRandomLog, 30000);
        }

        // 更新智能体状态
        function updateAgentStatuses() {
            // 模拟状态变化
            const progressBars = document.querySelectorAll('.bg-gradient-to-r');
            progressBars.forEach(bar => {
                const currentWidth = parseInt(bar.style.width);
                const newWidth = Math.min(100, currentWidth + Math.floor(Math.random() * 5) - 2);
                bar.style.width = newWidth + '%';
            });
        }

        // 添加随机日志
        function addRandomLog() {
            const logMessages = [
                { level: 'info', message: '智能体状态检查完成' },
                { level: 'success', message: '知识图谱更新成功' },
                { level: 'warning', message: '内存使用率较高' },
                { level: 'info', message: '用户查询处理完成' }
            ];
            
            const randomLog = logMessages[Math.floor(Math.random() * logMessages.length)];
            const newLog = {
                timestamp: new Date().toLocaleString(),
                level: randomLog.level,
                message: randomLog.message
            };
            
            systemLogs.unshift(newLog);
            if (systemLogs.length > 10) {
                systemLogs.pop();
            }
            
            document.getElementById('system-logs').innerHTML = '';
            initSystemLogs();
        }

        // 初始化动画
        function initAnimations() {
            // 页面加载动画
            anime({
                targets: '.metric-card',
                translateY: [30, 0],
                opacity: [0, 1],
                delay: anime.stagger(100),
                duration: 600,
                easing: 'easeOutQuart'
            });

            anime({
                targets: '.dashboard-card',
                translateY: [50, 0],
                opacity: [0, 1],
                delay: anime.stagger(150, {start: 300}),
                duration: 800,
                easing: 'easeOutQuart'
            });
        }
    </script>
</body>
</html>